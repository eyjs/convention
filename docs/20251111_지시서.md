Claude 지시용 프롬프트 (최종본 v3)
To: Claude From: 스타투어 (Travel Management Platform) Subject: '개인 여행' 기능 전체 UI/UX 개선 및 API 연동 개발 지시

안녕하세요. '개인 여행' 기능(TripList.vue, TripDetail.vue)의 UI/UX를 '사무용 앱'에서 'Triple'과 같은 사용자 친화적인 '여행 앱'으로 전면 개선하는 작업을 지시합니다.

기능은 모두 정상 동작 중이므로, 로직의 안정성을 유지하며 다음 지시사항에 따라 UI/UX 개선 및 신규 기능 구현을 최우선으로 진행해 주세요.

1. [Priority 1] 핵심 백엔드 수정 및 API 연동 (CountryCode)
현재 모든 데이터를 텍스트로 입력받아 데이터 정합성이 깨지기 쉽습니다. 지도 API 분기 및 향후 기능을 위해 CountryCode 확보가 가장 시급합니다.

Backend (.NET 8):

엔티티 수정: Entities/PersonalTrip/PersonalTrip.cs 파일에 public string? CountryCode { get; set; } 필드를 추가합니다.

DTO 수정: DTOs/PersonalTrip/CreatePersonalTripDto.cs 및 UpdatePersonalTripDto.cs에 CountryCode 속성을 추가합니다.

마이그레이션: (개발자 참고) dotnet ef migrations add AddCountryCodeToPersonalTrip 및 dotnet ef database update를 실행하여 DB 스키마를 업데이트합니다.

Frontend (Vue.js):

API 연동: TripDetail.vue의 '국가' 또는 '도시' 입력란을 **Google Places API (Autocomplete)**와 연동합니다.

데이터 바인딩: 사용자가 자동완성 목록에서 목적지를 선택하면, 반환된 CountryCode (예: "KR", "SG")를 tripData.value.countryCode에 저장하도록 구현합니다.

API 호출 수정: saveTripInfo 함수에서 tripData 전송 시 이 countryCode 값을 포함하여 백엔드로 전송하도록 수정합니다.

2. [Priority 2] '일정 항목 (Itinerary)' 백엔드 시스템 구현
'회사 행사'의 Schedule.cs와 '개인 여행'의 일정은 목적이 다릅니다. (위도/경도 필요) PersonalTrip에 종속된 새로운 엔티티가 필요합니다.

신규 엔티티 생성: Entities/PersonalTrip/ 폴더에 ItineraryItem.cs 엔티티를 새로 생성합니다.

필수 필드: Id, PersonalTripId (FK), DayNumber (N일차), LocationName (장소명), Address (주소), Latitude (위도), Longitude (경도), GooglePlaceId, StartTime, **EndTime**을 포함해야 합니다.

API 구현: 이 ItineraryItem에 대한 CRUD API 엔드포인트를 PersonalTripController.cs에 추가합니다. (예: POST /api/personal-trips/{tripId}/items)

3. [Priority 3] 핵심 UI/UX 개선 (시각적/구조적)
'사무용 앱' 느낌 제거에 집중합니다.

배경/스플래시 화면 개선:

로그인 페이지 (LoginView.vue, GuestLoginView.vue): 사용자의 감성을 자극할 수 있도록 GIF 또는 짧은 동영상 배경을 추가하여 스플래시 효과를 줍니다.

메인 홈 (TripList.vue): 페이지 배경에 고화질 정적 이미지를 적용할 수 있는 영역을 잡습니다. (가독성을 해치지 않는 선에서)

모달 정책 (필수):

모든 모달은 반드시 공용 컴포넌트인 SlideUpModal.vue를 사용해야 합니다.

TripList.vue 구조 개선:

상단의 '새 여행 만들기' 버튼을 제거하고, 화면 우측 하단의 플로팅 액션 버튼(FAB)(Tailwind CSS 사용)으로 교체합니다.

TripDetail.vue 구조 개선:

'여행 정보' 섹션을 **'조회 모드'(일반 텍스트)**와 **'편집 모드'**로 분리합니다.

'편집 모드'는 SlideUpModal.vue를 사용하여 아래에서 위로 올라오는 모달 내에서 '여행 정보 수정' 폼을 제공하도록 변경합니다.

4. [Priority 4] '일정 항목 (Itinerary)' 프론트엔드 UI 구현
TripDetail.vue 내에 'N일차' 일정을 등록하고 조회하는 UI를 구현합니다.

위도/경도 입력 UX (필수):

사용자에게 위도/경도를 직접 입력받지 않습니다.

'일정 추가' 모달(SlideUpModal.vue)에서 '장소 검색' 필드를 Google Places API (Autocomplete)와 연동합니다.

사용자가 장소를 선택하면, API가 반환하는 latitude, longitude, address, place_id를 백엔드로 전송합니다.

시간 입력 UX (필수):

사용자가 1분 단위로 시간을 입력하는 것을 방지합니다.

StartTime, EndTime 입력 UI는 네이티브 <input> 대신, **[시간 드롭다운 (0~23)]**과 [분 드롭다운 (값: '00', '30')] 조합으로 구현하여 30분 단위 입력만 받습니다.

'현재 일정' 하이라이트:

MySchedule.vue에 구현된 '현재 일정 자동 추적' 로직(자동 스크롤, 테두리 하이라이트)을 ItineraryItem 목록에 동일하게 구현합니다. StartTime, EndTime 필드를 사용하세요.

5. [Priority 5] 기존 UI 리팩토링 (일관성)
시간 입력 30분 단위 통일:

TripDetail.vue의 기존 항공권/숙소 모달에 있는 <input type="datetime-local">을 모두 제거합니다.

'일정 항목'과 동일하게 [날짜 선택기] + [시간 드롭다운] + [분 드롭다운('00', '30')] 조합으로 변경하여 30분 단위 입력 규칙을 앱 전체에 일관되게 적용합니다.

6. [Priority 6] 지도 API 추상화 (구현 보류)
지도 API(카카오, 구글)의 실제 구현은 지금 하지 않습니다. 대신, 향후 확장을 위해 인터페이스(추상화 컴포넌트)만 생성합니다.

src/components/common/ 경로에 KakaoMapPlaceholder.vue와 GoogleMapPlaceholder.vue 두 개의 껍데기 컴포넌트를 생성합니다. (내용은 "카카오 지도 영역", "구글 지도 영역" 텍스트와 회색 배경색만 있어도 됩니다.)

TripDetail.vue에 isDomestic computed 속성을 생성합니다.

JavaScript

const isDomestic = computed(() => trip.value.countryCode === 'KR');
TripDetail.vue 내 적절한 위치에 v-if="isDomestic"을 사용하여 KakaoMapPlaceholder를, v-else를 사용하여 GoogleMapPlaceholder를 조건부 렌더링하도록 코드를 추가합니다.

※ 중요 정책 확인
TripDetail.vue의 '항공권 관리' 섹션은 CountryCode와 관계없이 항상 표시되어야 합니다. (국내선 이용자 존재)